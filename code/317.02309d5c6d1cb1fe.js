"use strict";(self.webpackChunkrams_tools=self.webpackChunkrams_tools||[]).push([[317],{5317:(F,u,c)=>{c.r(u),c.d(u,{TextDiffComponent:()=>C});var h=c(2200),f=c(4341),e=c(3664);function g(a,s){if(1&a&&(e.j41(0,"div",29),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.R7$(),e.JRh(t)}}function x(a,s){if(1&a&&(e.j41(0,"div",27),e.DNE(1,g,2,1,"div",28),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.getLineNumbers(t.originalText))}}function _(a,s){if(1&a&&(e.j41(0,"div",29),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.R7$(),e.JRh(t)}}function b(a,s){if(1&a&&(e.j41(0,"div",27),e.DNE(1,_,2,1,"div",28),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.getLineNumbers(t.modifiedText))}}function v(a,s){if(1&a&&(e.j41(0,"div",34)(1,"span",35),e.EFF(2),e.k0s(),e.j41(3,"span",36),e.EFF(4),e.k0s()()),2&a){const t=s.$implicit,r=e.XpG(2);e.AVh("added","added"===t.type)("removed","removed"===t.type)("unchanged","unchanged"===t.type),e.R7$(2),e.JRh(r.getLineIndicator(t.type)),e.R7$(2),e.JRh(t.text||" ")}}function T(a,s){if(1&a&&(e.j41(0,"div",30)(1,"h5"),e.nrm(2,"i",31),e.EFF(3,"Diff Result"),e.k0s(),e.j41(4,"div",32),e.DNE(5,v,5,8,"div",33),e.k0s()()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.diffResult)}}function k(a,s){if(1&a&&(e.j41(0,"div",30)(1,"h5"),e.nrm(2,"i",37),e.EFF(3,"Diff Statistics"),e.k0s(),e.j41(4,"div",6)(5,"div",38)(6,"div",39)(7,"strong"),e.EFF(8,"Added Lines:"),e.k0s(),e.EFF(9),e.k0s()(),e.j41(10,"div",38)(11,"div",39)(12,"strong"),e.EFF(13,"Removed Lines:"),e.k0s(),e.EFF(14),e.k0s()(),e.j41(15,"div",38)(16,"div",39)(17,"strong"),e.EFF(18,"Changed Lines:"),e.k0s(),e.EFF(19),e.k0s()(),e.j41(20,"div",38)(21,"div",39)(22,"strong"),e.EFF(23,"Unchanged Lines:"),e.k0s(),e.EFF(24),e.k0s()()()()),2&a){const t=e.XpG();e.R7$(9),e.SpI(" ",t.diffStats.added," "),e.R7$(5),e.SpI(" ",t.diffStats.removed," "),e.R7$(5),e.SpI(" ",t.diffStats.changed," "),e.R7$(5),e.SpI(" ",t.diffStats.unchanged," ")}}let C=(()=>{class a{constructor(){this.originalText="",this.modifiedText="",this.diffResult=[],this.diffStats=null,this.showLineNumbers=!0,this.ignoreWhitespace=!1}getLineNumbers(t){if(!t)return[1];const r=t.split("\n");return Array.from({length:r.length},(n,o)=>o+1)}getLineIndicator(t){switch(t){case"added":return"+";case"removed":return"-";default:return" "}}calculateDiff(){if(!this.originalText&&!this.modifiedText)return this.diffResult=[],void(this.diffStats=null);const t=this.preprocessText(this.originalText),r=this.preprocessText(this.modifiedText);this.diffResult=this.computeDiff(t,r),this.calculateStats()}preprocessText(t){let r=t.split("\n");return this.ignoreWhitespace&&(r=r.map(n=>n.trim())),r}computeDiff(t,r){const n=[];let o=0,i=0;for(;o<t.length||i<r.length;)if(o>=t.length)n.push({text:r[i],type:"added"}),i++;else if(i>=r.length)n.push({text:t[o],type:"removed"}),o++;else if(t[o]===r[i])n.push({text:t[o],type:"unchanged"}),o++,i++;else{let m=!1;for(let l=i+1;l<Math.min(i+5,r.length);l++)if(t[o]===r[l]){for(let d=i;d<l;d++)n.push({text:r[d],type:"added"});n.push({text:t[o],type:"unchanged"}),o++,i=l+1,m=!0;break}if(!m){let l=!1;for(let d=o+1;d<Math.min(o+5,t.length);d++)if(r[i]===t[d]){for(let p=o;p<d;p++)n.push({text:t[p],type:"removed"});n.push({text:r[i],type:"unchanged"}),o=d+1,i++,l=!0;break}l||(n.push({text:t[o],type:"removed"}),n.push({text:r[i],type:"added"}),o++,i++)}}return n}calculateStats(){const t={added:0,removed:0,unchanged:0,changed:0};this.diffResult.forEach(r=>{switch(r.type){case"added":t.added++;break;case"removed":t.removed++;break;case"unchanged":t.unchanged++}}),t.changed=t.added+t.removed,this.diffStats=t}swapTexts(){const t=this.originalText;this.originalText=this.modifiedText,this.modifiedText=t,this.calculateDiff()}clearAll(){this.originalText="",this.modifiedText="",this.diffResult=[],this.diffStats=null}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-text-diff"]],decls:47,vars:12,consts:[[1,"container"],[1,"tool-container"],[1,"text-center","mb-4"],[1,"fas","fa-code-branch","tool-header-icon"],[1,"mt-3"],[1,"text-muted"],[1,"row"],[1,"col-lg-6"],[1,"calculator-section"],[1,"fas","fa-file-alt","me-2"],[1,"text-editor-container"],["class","line-numbers",4,"ngIf"],["rows","20","placeholder","Enter or paste the original text here...",1,"form-control","text-textarea",3,"ngModelChange","input","ngModel"],["rows","20","placeholder","Enter or paste the modified text here...",1,"form-control","text-textarea",3,"ngModelChange","input","ngModel"],[1,"mt-4","d-flex","gap-2","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sync","me-2"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-exchange-alt","me-2"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash","me-2"],[1,"form-check","ms-3"],["type","checkbox","id","showLineNumbers",1,"form-check-input",3,"ngModelChange","ngModel"],["for","showLineNumbers",1,"form-check-label"],["type","checkbox","id","ignoreWhitespace",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","ignoreWhitespace",1,"form-check-label"],["class","result-card mt-4",4,"ngIf"],[1,"line-numbers"],["class","line-number",4,"ngFor","ngForOf"],[1,"line-number"],[1,"result-card","mt-4"],[1,"fas","fa-code-branch","me-2"],[1,"diff-container"],["class","diff-line",3,"added","removed","unchanged",4,"ngFor","ngForOf"],[1,"diff-line"],[1,"line-indicator"],[1,"line-text"],[1,"fas","fa-chart-bar","me-2"],[1,"col-md-3"],[1,"stat-item"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"i",3),e.j41(4,"h1",4),e.EFF(5,"Text Diff Tool"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Compare two text documents and highlight differences"),e.k0s()(),e.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"h5"),e.nrm(12,"i",9),e.EFF(13,"Original Text"),e.k0s(),e.j41(14,"div",10),e.DNE(15,x,2,1,"div",11),e.j41(16,"textarea",12),e.mxI("ngModelChange",function(i){return e.DH7(n.originalText,i)||(n.originalText=i),i}),e.bIt("input",function(){return n.calculateDiff()}),e.EFF(17,"                "),e.k0s()()()(),e.j41(18,"div",7)(19,"div",8)(20,"h5"),e.nrm(21,"i",9),e.EFF(22,"Modified Text"),e.k0s(),e.j41(23,"div",10),e.DNE(24,b,2,1,"div",11),e.j41(25,"textarea",13),e.mxI("ngModelChange",function(i){return e.DH7(n.modifiedText,i)||(n.modifiedText=i),i}),e.bIt("input",function(){return n.calculateDiff()}),e.EFF(26,"                "),e.k0s()()()()(),e.j41(27,"div",14)(28,"button",15),e.bIt("click",function(){return n.calculateDiff()}),e.nrm(29,"i",16),e.EFF(30,"Compare "),e.k0s(),e.j41(31,"button",17),e.bIt("click",function(){return n.swapTexts()}),e.nrm(32,"i",18),e.EFF(33,"Swap Texts "),e.k0s(),e.j41(34,"button",19),e.bIt("click",function(){return n.clearAll()}),e.nrm(35,"i",20),e.EFF(36,"Clear All "),e.k0s(),e.j41(37,"div",21)(38,"input",22),e.mxI("ngModelChange",function(i){return e.DH7(n.showLineNumbers,i)||(n.showLineNumbers=i),i}),e.k0s(),e.j41(39,"label",23),e.EFF(40," Line Numbers "),e.k0s()(),e.j41(41,"div",21)(42,"input",24),e.mxI("ngModelChange",function(i){return e.DH7(n.ignoreWhitespace,i)||(n.ignoreWhitespace=i),i}),e.bIt("change",function(){return n.calculateDiff()}),e.k0s(),e.j41(43,"label",25),e.EFF(44," Ignore Whitespace "),e.k0s()()(),e.DNE(45,T,6,1,"div",26)(46,k,25,4,"div",26),e.k0s()()),2&r&&(e.R7$(15),e.Y8G("ngIf",n.showLineNumbers),e.R7$(),e.AVh("with-line-numbers",n.showLineNumbers),e.R50("ngModel",n.originalText),e.R7$(8),e.Y8G("ngIf",n.showLineNumbers),e.R7$(),e.AVh("with-line-numbers",n.showLineNumbers),e.R50("ngModel",n.modifiedText),e.R7$(13),e.R50("ngModel",n.showLineNumbers),e.R7$(4),e.R50("ngModel",n.ignoreWhitespace),e.R7$(3),e.Y8G("ngIf",n.diffResult.length>0),e.R7$(),e.Y8G("ngIf",n.diffStats))},dependencies:[h.MD,h.Sq,h.bT,f.YN,f.me,f.Zm,f.BC,f.vS],styles:[".text-editor-container[_ngcontent-%COMP%]{position:relative;display:flex;border:1px solid var(--vscode-border);border-radius:var(--border-radius);overflow:hidden}.line-numbers[_ngcontent-%COMP%]{background:var(--vscode-panel-bg);border-right:1px solid var(--vscode-border);color:var(--vscode-text-muted);font-family:Consolas,Monaco,Courier New,monospace;font-size:14px;line-height:1.5;padding:12px 8px;text-align:right;-webkit-user-select:none;user-select:none;width:50px;min-width:50px}.line-number[_ngcontent-%COMP%]{height:21px;line-height:21px}.text-textarea[_ngcontent-%COMP%]{font-family:Consolas,Monaco,Courier New,monospace;font-size:14px;line-height:1.5;border:none;border-radius:0;resize:none;outline:none;padding:12px;flex:1}.text-textarea.with-line-numbers[_ngcontent-%COMP%]{padding-left:12px}.text-textarea[_ngcontent-%COMP%]:focus{box-shadow:none}.diff-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;background:var(--vscode-editor-bg);border:1px solid var(--vscode-border);border-radius:var(--border-radius);font-family:Consolas,Monaco,Courier New,monospace;font-size:14px;line-height:1.5}.diff-line[_ngcontent-%COMP%]{padding:2px 8px;display:flex;align-items:center;white-space:pre-wrap}.diff-line.added[_ngcontent-%COMP%]{background-color:var(--success-color-bg);border-left:4px solid var(--success-color)}.diff-line.removed[_ngcontent-%COMP%]{background-color:var(--error-color-bg);border-left:4px solid var(--error-color)}.diff-line.unchanged[_ngcontent-%COMP%]{background-color:transparent;border-left:4px solid transparent}.line-indicator[_ngcontent-%COMP%]{width:20px;color:var(--vscode-text-muted);font-weight:700;margin-right:10px}.line-text[_ngcontent-%COMP%]{flex:1;min-height:21px}.stat-item[_ngcontent-%COMP%]{padding:10px;background:var(--vscode-panel-bg);border:1px solid var(--vscode-border);border-radius:var(--border-radius);margin-bottom:10px;text-align:center}.btn[_ngcontent-%COMP%]{min-width:120px}.form-check-label[_ngcontent-%COMP%]{font-size:14px;color:var(--vscode-text)}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--vscode-blue);border-color:var(--vscode-blue)}"]})}return a})()}}]);