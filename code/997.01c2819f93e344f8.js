"use strict";(self.webpackChunkrams_tools=self.webpackChunkrams_tools||[]).push([[997],{997:(T,f,m)=>{m.r(f),m.d(f,{DatabaseSelectorComponent:()=>P});var h=m(2200),d=m(4341),e=m(3664),b=m(2615),u=m(9330);function _(n,i){if(1&n&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function C(n,i){if(1&n&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function F(n,i){1&n&&(e.j41(0,"div",50),e.EFF(1,' Click "Calculate Scores" to see recommendations '),e.k0s())}function k(n,i){if(1&n&&(e.j41(0,"div",51)(1,"span",52),e.EFF(2),e.k0s(),e.j41(3,"div",53)(4,"strong"),e.EFF(5),e.k0s(),e.j41(6,"div",54),e.EFF(7),e.k0s()(),e.j41(8,"div",55),e.nrm(9,"div",56),e.k0s()()),2&n){const t=i.$implicit,a=i.index;e.R7$(2),e.JRh(a+1),e.R7$(3),e.JRh(t.database.name),e.R7$(2),e.SpI("Score: ",t.weightedScore.toFixed(1),"/10"),e.R7$(2),e.xc7("width",10*t.weightedScore,"%")}}function D(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",57)(1,"div",58)(2,"label",14),e.EFF(3),e.nrm(4,"i",59),e.k0s(),e.j41(5,"div",60)(6,"input",61),e.bIt("input",function(o){const r=b.eBV(t).$implicit,s=e.XpG();return b.Njj(s.updateWeight(r.id,o))}),e.k0s(),e.j41(7,"span",62),e.EFF(8),e.k0s()()()()}if(2&n){const t=i.$implicit,a=e.XpG();e.R7$(3),e.SpI(" ",t.name," "),e.R7$(),e.Y8G("title",t.description),e.R7$(2),e.Y8G("value",a.criteriaWeights[t.id]||t.weight),e.R7$(2),e.SpI(" ",a.criteriaWeights[t.id]||t.weight," ")}}function S(n,i){if(1&n&&(e.j41(0,"div",66),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,a=e.XpG();e.R7$(),e.SpI(" Score: ",a.getScoreForDatabase(t.id).weightedScore.toFixed(1),"/10 ")}}function R(n,i){if(1&n&&(e.j41(0,"th",63)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div",64),e.EFF(4),e.k0s(),e.DNE(5,S,2,1,"div",65),e.k0s()),2&n){const t=i.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.vendor),e.R7$(),e.Y8G("ngIf",a.showScores&&a.getScoreForDatabase(t.id))}}function v(n,i){if(1&n&&(e.j41(0,"td",70),e.nrm(1,"div",71),e.k0s()),2&n){const t=i.$implicit,a=e.XpG().$implicit,o=e.XpG();e.Y8G("ngClass",o.getCellClass(a,t.criteria[a.id])),e.R7$(),e.Y8G("innerHTML",o.formatCriterionValue(a,t.criteria[a.id]),e.npT)}}function E(n,i){if(1&n&&(e.j41(0,"tr")(1,"td",67)(2,"div"),e.EFF(3),e.k0s(),e.j41(4,"div",64),e.EFF(5),e.k0s(),e.j41(6,"div",66),e.EFF(7," Weight: "),e.j41(8,"span",68),e.EFF(9),e.k0s()()(),e.DNE(10,v,2,2,"td",69),e.k0s()),2&n){const t=i.$implicit,a=e.XpG();e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.category),e.R7$(4),e.JRh(a.criteriaWeights[t.id]||t.weight),e.R7$(),e.Y8G("ngForOf",a.filteredDatabases)}}function j(n,i){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.R7$(),e.JRh(t)}}function y(n,i){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.R7$(),e.JRh(t)}}function M(n,i){if(1&n&&(e.j41(0,"span",81),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.R7$(),e.JRh(t)}}function w(n,i){if(1&n&&(e.j41(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75)(4,"h5",76),e.EFF(5),e.k0s(),e.nrm(6,"button",77),e.k0s(),e.j41(7,"div",78)(8,"div",12)(9,"div",13)(10,"h6"),e.EFF(11,"Description"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.j41(14,"h6"),e.EFF(15,"Pros"),e.k0s(),e.j41(16,"ul"),e.DNE(17,j,2,1,"li",45),e.k0s()(),e.j41(18,"div",13)(19,"h6"),e.EFF(20,"Category"),e.k0s(),e.j41(21,"p"),e.EFF(22),e.k0s(),e.j41(23,"h6"),e.EFF(24,"Cons"),e.k0s(),e.j41(25,"ul"),e.DNE(26,y,2,1,"li",45),e.k0s()()(),e.j41(27,"h6"),e.EFF(28,"Use Cases"),e.k0s(),e.j41(29,"div",79),e.DNE(30,M,2,1,"span",80),e.k0s()()()()()),2&n){const t=e.XpG();e.R7$(5),e.SpI("",t.selectedDatabase.name," Details"),e.R7$(8),e.JRh(t.selectedDatabase.description),e.R7$(4),e.Y8G("ngForOf",t.selectedDatabase.pros),e.R7$(5),e.JRh(t.selectedDatabase.category),e.R7$(4),e.Y8G("ngForOf",t.selectedDatabase.cons),e.R7$(4),e.Y8G("ngForOf",t.selectedDatabase.use_cases)}}function O(n,i){1&n&&(e.j41(0,"div",82)(1,"div",83)(2,"span",84),e.EFF(3,"Loading..."),e.k0s()(),e.j41(4,"div",85),e.EFF(5,"Loading database catalog..."),e.k0s()())}function $(n,i){if(1&n&&(e.j41(0,"div",86),e.nrm(1,"i",87),e.EFF(2),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.SpI(" Error loading database catalog: ",t.error," ")}}let P=(()=>{class n{constructor(t){this.http=t,this.catalog=null,this.loading=!0,this.error="",this.searchTerm="",this.selectedCategory="",this.selectedPreset="",this.selectedDatabase=null,this.criteriaWeights={},this.filteredDatabases=[],this.topRecommendations=[],this.showScores=!1}ngOnInit(){this.loadDatabaseCatalog()}loadDatabaseCatalog(){this.loading=!0,this.error="",this.http.get("assets/data/databases.json").subscribe({next:t=>{this.catalog=t,this.initializeWeights(),this.filteredDatabases=[...t.databases],this.loading=!1},error:t=>{console.error("Error loading database catalog:",t),this.error="Failed to load database catalog",this.loading=!1}})}initializeWeights(){this.catalog&&this.catalog.criteria.forEach(t=>{this.criteriaWeights[t.id]=t.weight})}updateWeight(t,a){this.criteriaWeights[t]=parseInt(a.target.value)}filterDatabases(){this.catalog&&(this.filteredDatabases=this.catalog.databases.filter(t=>(!this.searchTerm||t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.description.toLowerCase().includes(this.searchTerm.toLowerCase())||t.category.toLowerCase().includes(this.searchTerm.toLowerCase()))&&(!this.selectedCategory||t.category===this.selectedCategory)))}getUniqueCategories(){return this.catalog?[...new Set(this.catalog.databases.map(t=>t.category))]:[]}applyPreset(){if(!this.selectedPreset||!this.catalog)return;const t=this.catalog.presets.find(a=>a.id===this.selectedPreset);t&&(this.initializeWeights(),Object.entries(t.weights).forEach(([a,o])=>{this.criteriaWeights[a]=o}),this.filteredDatabases=this.catalog.databases.filter(a=>t.recommended.includes(a.id)),setTimeout(()=>this.calculateScores(),100))}calculateScores(){if(!this.catalog)return;const t=[];this.filteredDatabases.forEach(a=>{let o=0,r=0;this.catalog.criteria.forEach(c=>{const l=this.criteriaWeights[c.id]||c.weight,g=a.criteria[c.id];let p=0;switch(c.type){case"boolean":p=g?10:0;break;case"rating":p="number"==typeof g?g:5;break;case"categorical":p=this.getCategoricalScore(c.id,g);break;default:p=5}o+=p*l,r+=l}),t.push({database:a,score:o,weightedScore:r>0?o/r:0})}),t.sort((a,o)=>o.weightedScore-a.weightedScore),this.topRecommendations=t,this.showScores=!0}getCategoricalScore(t,a){const r={cap_theorem:{CA:8,CP:7,AP:6},consistency_model:{Strong:9,Tunable:7,Eventual:5},acid_support:{"Full ACID":10,"Limited ACID":6,Limited:6,"No ACID":2},license:{"Open Source (Apache 2.0)":9,"Open Source (GPL)":8,"Open Source (BSD)":9,"Open Source (PostgreSQL)":8,"Open Source (SSPL)":6,Commercial:4},replication:{"Multi-Master":9,"Master-Slave":7,"Replica Sets":8,Streaming:7}}[t];return r&&r[a]?r[a]:5}getCellClass(t,a){if("boolean"===t.type)return a?"cell-boolean-true":"cell-boolean-false";if("rating"===t.type)return a>=8?"cell-high":a>=6?"cell-medium":"cell-low";const o=this.getCategoricalScore(t.id,a);return o>=8?"cell-high":o>=6?"cell-medium":"cell-low"}formatCriterionValue(t,a){return null==a?'<span class="text-muted">N/A</span>':"boolean"===t.type?a?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>':"rating"===t.type?`<span title="${a}/10">${"\u2605".repeat(Math.floor(a/2))} ${a}</span>`:a.toString()}getScoreForDatabase(t){return this.topRecommendations.find(a=>a.database.id===t)}resetWeights(){this.initializeWeights(),this.selectedPreset="",this.topRecommendations=[],this.showScores=!1,this.filteredDatabases=this.catalog?[...this.catalog.databases]:[],this.searchTerm="",this.selectedCategory=""}exportResults(){if(!this.catalog||0===this.topRecommendations.length)return void alert("Please calculate scores first before exporting.");const o=[["Rank","Database","Category","Vendor","Score","License"],...this.topRecommendations.map((l,g)=>[(g+1).toString(),l.database.name,l.database.category,l.database.vendor,l.weightedScore.toFixed(2),l.database.criteria.license||"N/A"])].map(l=>l.map(g=>`"${g}"`).join(",")).join("\\n"),r=new Blob([o],{type:"text/csv"}),s=window.URL.createObjectURL(r),c=document.createElement("a");c.href=s,c.download="database-comparison-results.csv",c.click(),window.URL.revokeObjectURL(s)}openDatabaseDetails(t){this.selectedDatabase=t,console.log("Opening details for:",t.name)}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(u.Qq))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-database-selector"]],decls:85,vars:14,consts:[[1,"container-fluid"],[1,"tool-container"],[1,"text-center","mb-4"],[1,"fas","fa-database","tool-header-icon"],[1,"mt-3"],[1,"text-muted"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"fas","fa-sliders-h","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-label"],["type","text","placeholder","Search by name, description, or category...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-md-6","d-flex","align-items-end"],[1,"btn","btn-primary","me-2",3,"click"],[1,"fas","fa-calculator","me-2"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"fas","fa-download","me-2"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-undo","me-2"],[1,"col-lg-4"],[1,"fas","fa-trophy","me-2"],["class","text-muted text-center",4,"ngIf"],["class","d-flex align-items-center mb-2",4,"ngFor","ngForOf"],[1,"card","mb-4"],[1,"fas","fa-weight-hanging","me-2"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-table","me-2"],[1,"form-check"],["type","checkbox","id","showScores",1,"form-check-input",3,"ngModelChange","ngModel"],["for","showScores",1,"form-check-label"],[1,"card-body","p-0"],[1,"table-responsive",2,"max-height","600px"],[1,"table","table-bordered","table-hover","mb-0"],[1,"table-dark","position-sticky",2,"top","0","z-index","10"],[1,"position-sticky",2,"left","0","z-index","11","background-color","#212529"],["class","text-center","style","min-width: 150px;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","modal fade","id","databaseModal","tabindex","-1",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"value"],[1,"text-muted","text-center"],[1,"d-flex","align-items-center","mb-2"],[1,"badge","bg-primary","me-2"],[1,"flex-grow-1"],[1,"text-muted","small"],[1,"progress",2,"width","50px","height","8px"],[1,"progress-bar"],[1,"col-lg-6"],[1,"mb-3"],["data-bs-toggle","tooltip",1,"fas","fa-info-circle","text-muted","ms-1",3,"title"],[1,"d-flex","align-items-center"],["type","range","min","1","max","10",1,"form-range","me-3",3,"input","value"],[1,"badge","bg-secondary",2,"min-width","35px"],[1,"text-center",2,"min-width","150px"],[1,"small","text-muted"],["class","small",4,"ngIf"],[1,"small"],[1,"position-sticky","fw-bold",2,"left","0","background-color","white","z-index","9"],[1,"badge","bg-primary"],["class","text-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-center",3,"ngClass"],[3,"innerHTML"],["id","databaseModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"d-flex","flex-wrap","gap-2"],["class","badge bg-secondary",4,"ngFor","ngForOf"],[1,"badge","bg-secondary"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(a,o){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"i",3),e.j41(4,"h1",4),e.EFF(5,"Database Selector"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Compare and select databases with weighted scoring and recommendations"),e.k0s()(),e.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h5"),e.nrm(13,"i",10),e.EFF(14,"Comparison Controls"),e.k0s()(),e.j41(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e.EFF(19,"Search Databases"),e.k0s(),e.j41(20,"input",15),e.mxI("ngModelChange",function(s){return e.DH7(o.searchTerm,s)||(o.searchTerm=s),s}),e.bIt("input",function(){return o.filterDatabases()}),e.k0s()(),e.j41(21,"div",13)(22,"label",14),e.EFF(23,"Filter by Category"),e.k0s(),e.j41(24,"select",16),e.mxI("ngModelChange",function(s){return e.DH7(o.selectedCategory,s)||(o.selectedCategory=s),s}),e.bIt("change",function(){return o.filterDatabases()}),e.j41(25,"option",17),e.EFF(26,"All Categories"),e.k0s(),e.DNE(27,_,2,2,"option",18),e.k0s()()(),e.j41(28,"div",19)(29,"div",13)(30,"label",14),e.EFF(31,"Load Preset"),e.k0s(),e.j41(32,"select",16),e.mxI("ngModelChange",function(s){return e.DH7(o.selectedPreset,s)||(o.selectedPreset=s),s}),e.bIt("change",function(){return o.applyPreset()}),e.j41(33,"option",17),e.EFF(34,"Select a preset..."),e.k0s(),e.DNE(35,C,2,2,"option",18),e.k0s()(),e.j41(36,"div",20)(37,"button",21),e.bIt("click",function(){return o.calculateScores()}),e.nrm(38,"i",22),e.EFF(39,"Calculate Scores "),e.k0s(),e.j41(40,"button",23),e.bIt("click",function(){return o.exportResults()}),e.nrm(41,"i",24),e.EFF(42,"Export CSV "),e.k0s(),e.j41(43,"button",25),e.bIt("click",function(){return o.resetWeights()}),e.nrm(44,"i",26),e.EFF(45,"Reset "),e.k0s()()()()()(),e.j41(46,"div",27)(47,"div",8)(48,"div",9)(49,"h5"),e.nrm(50,"i",28),e.EFF(51,"Top Recommendations"),e.k0s()(),e.j41(52,"div",11),e.DNE(53,F,2,0,"div",29)(54,k,10,5,"div",30),e.k0s()()()(),e.j41(55,"div",31)(56,"div",9)(57,"h5"),e.nrm(58,"i",32),e.EFF(59,"Criteria Importance (1-10 scale)"),e.k0s()(),e.j41(60,"div",11)(61,"div",12),e.DNE(62,D,9,4,"div",33),e.k0s()()(),e.j41(63,"div",8)(64,"div",34)(65,"h5"),e.nrm(66,"i",35),e.EFF(67,"Database Comparison Matrix"),e.k0s(),e.j41(68,"div",36)(69,"input",37),e.mxI("ngModelChange",function(s){return e.DH7(o.showScores,s)||(o.showScores=s),s}),e.k0s(),e.j41(70,"label",38),e.EFF(71,"Show Scores"),e.k0s()()(),e.j41(72,"div",39)(73,"div",40)(74,"table",41)(75,"thead",42)(76,"tr")(77,"th",43),e.EFF(78,"Criteria"),e.k0s(),e.DNE(79,R,6,3,"th",44),e.k0s()(),e.j41(80,"tbody"),e.DNE(81,E,11,4,"tr",45),e.k0s()()()()(),e.DNE(82,w,31,6,"div",46)(83,O,6,0,"div",47)(84,$,3,1,"div",48),e.k0s()()),2&a&&(e.R7$(20),e.R50("ngModel",o.searchTerm),e.R7$(4),e.R50("ngModel",o.selectedCategory),e.R7$(3),e.Y8G("ngForOf",o.getUniqueCategories()),e.R7$(5),e.R50("ngModel",o.selectedPreset),e.R7$(3),e.Y8G("ngForOf",null==o.catalog?null:o.catalog.presets),e.R7$(18),e.Y8G("ngIf",0===o.topRecommendations.length),e.R7$(),e.Y8G("ngForOf",o.topRecommendations.slice(0,3)),e.R7$(8),e.Y8G("ngForOf",null==o.catalog?null:o.catalog.criteria),e.R7$(7),e.R50("ngModel",o.showScores),e.R7$(10),e.Y8G("ngForOf",o.filteredDatabases),e.R7$(2),e.Y8G("ngForOf",null==o.catalog?null:o.catalog.criteria),e.R7$(),e.Y8G("ngIf",o.selectedDatabase),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",o.error))},dependencies:[h.MD,h.YU,h.Sq,h.bT,d.YN,d.xH,d.y7,d.me,d.Zm,d.wz,d.BC,d.vS],styles:[".tool-header-icon[_ngcontent-%COMP%]{font-size:4rem;color:#0d6efd}.tool-container[_ngcontent-%COMP%]{padding:2rem 0}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.875rem;vertical-align:middle}.cell-high[_ngcontent-%COMP%]{background-color:#d1e7dd!important;color:#0a3622}.cell-medium[_ngcontent-%COMP%]{background-color:#fff3cd!important;color:#664d03}.cell-low[_ngcontent-%COMP%]{background-color:#f8d7da!important;color:#721c24}.cell-boolean-true[_ngcontent-%COMP%]{background-color:#d1e7dd!important;color:#0a3622}.cell-boolean-false[_ngcontent-%COMP%]{background-color:#f8d7da!important;color:#721c24}.badge[_ngcontent-%COMP%]{font-size:.75rem}.progress[_ngcontent-%COMP%]{border-radius:10px}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{background-color:#0d6efd}.form-range[_ngcontent-%COMP%]::-moz-range-thumb{background-color:#0d6efd;border:none}.table-responsive[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:.375rem}.position-sticky[_ngcontent-%COMP%]{position:sticky!important}@media (max-width: 768px){.tool-header-icon[_ngcontent-%COMP%]{font-size:3rem}.table[_ngcontent-%COMP%]{font-size:.75rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem}}"]})}return n})()}}]);